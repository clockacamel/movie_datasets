<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Films Released in the USA (2001 - 2024)</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/papaparse@5"></script>
<style>
    body {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    background-color: #1b1b1b;
    color: #fff;
    font-family: Arial, sans-serif;
    }
  </style>
</head>
<body>
<canvas id="filmsChart"></canvas>
<script>
    function createChart(labels, data) {
        var ctx = document.getElementById('filmsChart').getContext('2d');
        var filmsChart = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: labels,
                datasets: [{
                    label: 'Number of Films Released in the USA',
                    data: data,
                    backgroundColor: 'rgba(153, 102, 255, 0.8)',
                    borderColor: 'rgba(153, 102, 255, 1)',
                    borderWidth: 1
                }]
            },
            options: {
                scales: {
                    y: {
                        beginAtZero: true,
                        title: {
                            display: true,
                            text: 'Films Released'
                        },
                        grid: {
                            color: 'rgba(255, 255, 255, 0.1)'
                        }
                    },
                    x: {
                        title: {
                            display: true,
                            text: 'Year'
                        },
                        grid: {
                            color: 'rgba(255, 255, 255, 0.1)'
                        }
                    }
                },
                plugins: {
                    legend: {
                        labels: {
                            color: '#ccc'
                        }
                    }
                }
            }
        });
    }

    window.onload = function() {
    fetch('https://raw.githubusercontent.com/clockacamel/movie_datasets/1255c5127e5748ec9ad6b546041a4a86873e9a7e/final_male_female.csv')
    .then(response => {
        if (!response.ok) throw new Error('Network response was not ok');
        return response.text();
    })
    .then(csvText => {
        Papa.parse(csvText, {
            header: true,
            dynamicTyping: true,
            skipEmptyLines: true,
            complete: function(results) {
                if (results.errors.length) {
                    console.error('Errors parsing CSV:', results.errors);
                    return;
                }
                const data = results.data;
                const years = data.map(item => item.Year);
                const filmCounts = data.map(item => item['Total Number of films released in US']);
                createChart(years, filmCounts);
            }
        });
    })
    .catch(error => {
        console.error('Error fetching and parsing the CSV data:', error);
    });
}

</script>
</body>
</html>
